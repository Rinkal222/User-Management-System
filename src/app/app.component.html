<mat-toolbar color="primary" class="fixed-top p-3 shadow-lg d-flex justify-content-between align-items-center">
  <span class="fs-4 fw-bold text-white">User Management System</span>
  <button mat-mini-fab color="accent" class="add-user-btn" matTooltip="Add New User" (click)="openAddEditUserDialogForm()">
    <mat-icon>add</mat-icon>
  </button>
</mat-toolbar>

<div class="container mt-5 pt-4 ">
  <!-- Filter Section -->
  <div class="row justify-content-center mb-3">
    <div class="col-lg-6 col-md-8 col-sm-10">
      <mat-form-field appearance="outline" class="w-100">
        <mat-label>Search User</mat-label>
        <input matInput (keyup)="applyFilter($event)" placeholder="Ex. Mia" #input>
      </mat-form-field>
    </div>
  </div>

  <!-- Table Container -->
  <div class="table-responsive bg-white  rounded shadow-lg mb-3">
    <table mat-table [dataSource]="dataSource" matSort class="table align-middle">
      <!-- Columns -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef class="text-center bg-primary text-white"> ID </th>
        <td mat-cell *matCellDef="let row" class="text-center"> {{row.id}} </td>
      </ng-container>
      
      <ng-container matColumnDef="userName">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-primary text-white"> User Name </th>
        <td mat-cell *matCellDef="let row"> 
          <span class="fw-bold text-dark">{{ row.userName }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="email">
        <th mat-header-cell *matHeaderCellDef mat-sort-header class="bg-primary text-white"> Email </th>
        <td mat-cell *matCellDef="let row"> 
          <span class="text-muted">{{ row.email }}</span>
        </td>
      </ng-container>

      <ng-container matColumnDef="role">
        <th mat-header-cell *matHeaderCellDef class="text-center bg-primary text-white"> Role </th>
        <td mat-cell *matCellDef="let row" class="text-center">
          <span class="badge rounded-pill px-3 py-2" [ngClass]="{'bg-success': row.role === 'Admin', 'bg-info': row.role === 'User'}">
            {{ row.role }}
          </span>
        </td>
      </ng-container>

      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef class="text-center bg-primary text-white"> Action </th>
        <td mat-cell *matCellDef="let row" class="text-center">
          <button mat-icon-button color="primary" class="me-2" (click)="openEditForm(row)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="deleteEmployee(row.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <!-- Table Headers & Rows -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- No Data Row -->
      <tr class="text-center table-warning" *matNoDataRow>
        <td colspan="5">No data found for <strong class="text-danger">"{{ input.value }}"</strong></td>
      </tr>
    </table>
  </div>

  <!-- Extra Space & Paginator -->
  <div class="extra-space"></div>
  <div class="fixed-bottom bg-white shadow p-2 text-center rounded-top">
    <mat-paginator [pageSizeOptions]="[10, 20, 50, 100]" showFirstLastButtons></mat-paginator>
  </div>
</div>